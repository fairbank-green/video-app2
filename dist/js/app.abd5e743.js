(function(){"use strict";var e={620:function(e,t,i){var o=i(9242),s=i(3396),n=i(7139);const d={class:"app has-background-danger-light has-text-danger"},r={class:"top has-background-danger-light"},l={class:"columns"},c={class:"column is-4 is-flex is-align-items-center is-justify-content-center"},u={key:0},a={class:"column is-4 is-flex is-align-items-center is-justify-content-center"},v={class:"title has-text-danger is-size-1"},h={key:0,class:"column is-4 is-flex is-align-items-center is-justify-content-center"},p={key:0,class:"video-selection columns is-multiline"};function m(e,t,i,o,m,g){const y=(0,s.up)("VideoSelect"),f=(0,s.up)("SelectedVideos");return(0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",r,[(0,s._)("div",l,[(0,s._)("div",c,[m.showSelectedVideos?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",u,"You have selected "+(0,n.zw)(g.selectedVideosDuration)+" of your "+(0,n.zw)(m.totalDurationLimit)+" songs",1))]),(0,s._)("div",a,[(0,s._)("h1",v,(0,n.zw)(m.name)+"'s Songs",1)]),m.showSelectedVideos?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",h,[g.playPossible?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"button is-danger",onClick:t[0]||(t[0]=(...e)=>g.playSelectedVideos&&g.playSelectedVideos(...e))},"Play")):(0,s.kq)("",!0)]))])]),m.showSelectedVideos?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",p,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(m.videos,((e,t)=>((0,s.wg)(),(0,s.j4)(y,{key:t,video:e,isSelected:m.selectedVideos.includes(e),onToggleSelection:g.toggleVideoSelection,class:"column is-4"},null,8,["video","isSelected","onToggleSelection"])))),128))])),m.showSelectedVideos?((0,s.wg)(),(0,s.j4)(f,{key:1,selectedVideos:m.selectedVideos},null,8,["selectedVideos"])):(0,s.kq)("",!0)])}i(7658);var g=i(4161);const y={class:"selected-videos"},f={class:"columns is-multiline"};function b(e,t,i,o,n,d){const r=(0,s.up)("VideoPlayer");return(0,s.wg)(),(0,s.iD)("div",y,[(0,s._)("div",f,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.selectedVideos,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"video-container column is-4"},[(0,s.Wm)(r,{video:e,index:t},null,8,["video","index"])])))),128))])])}const w={class:"video-player"},V=["id","src"];function S(e,t,i,o,n,d){return(0,s.wg)(),(0,s.iD)("div",w,[(0,s._)("iframe",{id:n.playerId,src:d.embeddedUrl,frameborder:"0",allowfullscreen:""},"\n    ",8,V)])}var x={name:"VideoPlayer",props:{video:{type:Object,required:!0},index:{type:Number,required:!0}},data(){return{playerId:"youtube-player"+this.index}},mounted(){this.initYouTubePlayer()},computed:{embeddedUrl(){const e=this.extractVideoId(this.video.url);return`https://www.youtube.com/embed/${e}`}},methods:{extractVideoId(e){const t=e.match(/(?:\/embed\/|v=|\/\d{2,4}\/|youtu\.be\/|\/v\/|\/e\/|\/u\/\d{1,2}\/|\/embed\/|\/v\/|e\/|u\/\d{1,2}\/|^youtu\.be\/)([^#?\s]+)/);return t&&11===t[1].length?t[1]:null},initYouTubePlayer(){new window.YT.Player(this.playerId,{videoId:this.extractVideoId(this.video.url),playerVars:{rel:0,autoplay:1,fs:1},events:{onReady:this.onPlayerReady}})},onPlayerReady(e){e.target.playVideo()}}},k=i(89);const _=(0,k.Z)(x,[["render",S],["__scopeId","data-v-6e234f96"]]);var D=_,I={name:"SelectedVideos",props:{selectedVideos:{type:Array,required:!0}},components:{VideoPlayer:D},methods:{getEmbeddedUrl(e){const t=this.extractVideoId(e.url);return`https://www.youtube.com/embed/${t}`},extractVideoId(e){const t=e.match(/(?:\/embed\/|v=|\/\d{2,4}\/|youtu\.be\/|\/v\/|\/e\/|\/u\/\d{1,2}\/|\/embed\/|\/v\/|e\/|u\/\d{1,2}\/|^youtu\.be\/)([^#?\s]+)/);return t&&11===t[1].length?t[1]:null}}};const P=(0,k.Z)(I,[["render",b],["__scopeId","data-v-65aa453e"]]);var O=P;const j={class:"container"},T=["src"];function U(e,t,i,o,d,r){return(0,s.wg)(),(0,s.iD)("div",j,[(0,s._)("div",{class:"block",onClick:t[0]||(t[0]=(...e)=>r.toggleSelection&&r.toggleSelection(...e))},[(0,s._)("div",{class:(0,n.C_)(["video-select",{selected:i.isSelected}])},[(0,s._)("p",null,"This video counts as "+(0,n.zw)(this.video.value),1),(0,s._)("img",{src:r.thumbnailUrl,alt:"Video Thumbnail"},null,8,T)],2)])])}var q={name:"VideoSelect",props:{video:{type:Object,required:!0},isSelected:Boolean},computed:{thumbnailUrl(){const e=this.extractVideoId(this.video.url);return`https://img.youtube.com/vi/${e}/0.jpg`}},methods:{extractVideoId(e){const t=e.match(/(?:\/embed\/|v=|\/\d{2,4}\/|youtu\.be\/|\/v\/|\/e\/|\/u\/\d{1,2}\/|\/embed\/|\/v\/|e\/|u\/\d{1,2}\/|^youtu\.be\/)([^#?\s]+)/);return t&&11===t[1].length?t[1]:null},toggleSelection(){this.$emit("toggle-selection",this.video)}}};const z=(0,k.Z)(q,[["render",U],["__scopeId","data-v-018ebc08"]]);var C=z,E={name:"App",data(){return{videos:[],selectedVideos:[],totalDurationLimit:Number,showSelectedVideos:!1,name:""}},components:{SelectedVideos:O,VideoSelect:C},computed:{playPossible(){return this.selectedVideosDuration<=this.totalDurationLimit},selectedVideosDuration(){return this.selectedVideos.reduce(((e,t)=>e+parseFloat(t.value)),0)}},methods:{async fetchVideoUrls(){try{const e=await g.Z.get("https://docs.google.com/spreadsheets/d/e/2PACX-1vRp17gc4isgUx4lS9joSFBbE-82O1JetltGyzHGr4ge93bUzEHIavTzNfvzMdx3qPGOgGxM6Munei--/pub?output=csv");let t=e.data.split("\r\n"),i=t.splice(0,5);this.name=i[1].split(",")[1],this.totalDurationLimit=Number(i[2].split(",")[1]);let o=t.shift().split(",").map((e=>e.toLowerCase()));o[2]="value",this.videos=t.map((e=>{let t=e.split(","),i={};return t.forEach(((e,t)=>{i[o[t]]=e.replaceAll(";","\n")})),i}))}catch(e){console.error("Error fetching video URLs",e)}},getEmbeddedUrl(e){const t=this.extractVideoId(e.url);return`https://www.youtube.com/embed/${t}`},extractVideoId(e){const t=e.match(/(?:\/embed\/|v=|\/\d{2,4}\/|youtu\.be\/|\/v\/|\/e\/|\/u\/\d{1,2}\/|\/embed\/|\/v\/|e\/|u\/\d{1,2}\/|^youtu\.be\/)([^#?\s]+)/);return t&&11===t[1].length?t[1]:null},playSelectedVideos(){this.selectedVideosDuration>this.totalDurationLimit?alert("Total duration exceeds 40 minutes. Please select fewer videos."):this.showSelectedVideos=!0},toggleVideoSelection(e){const t=this.selectedVideos.indexOf(e);-1!==t?this.selectedVideos.splice(t,1):this.selectedVideos.push(e)}},mounted(){this.fetchVideoUrls()}};const L=(0,k.Z)(E,[["render",m]]);var Y=L;window.onYouTubeIframeAPIReady=function(){(0,o.ri)(Y).mount("#app")}}},t={};function i(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,i),n.exports}i.m=e,function(){var e=[];i.O=function(t,o,s,n){if(!o){var d=1/0;for(u=0;u<e.length;u++){o=e[u][0],s=e[u][1],n=e[u][2];for(var r=!0,l=0;l<o.length;l++)(!1&n||d>=n)&&Object.keys(i.O).every((function(e){return i.O[e](o[l])}))?o.splice(l--,1):(r=!1,n<d&&(d=n));if(r){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,s,n]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,n,d=o[0],r=o[1],l=o[2],c=0;if(d.some((function(t){return 0!==e[t]}))){for(s in r)i.o(r,s)&&(i.m[s]=r[s]);if(l)var u=l(i)}for(t&&t(o);c<d.length;c++)n=d[c],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(u)},o=self["webpackChunkyoutube_app"]=self["webpackChunkyoutube_app"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=i.O(void 0,[998],(function(){return i(620)}));o=i.O(o)})();
//# sourceMappingURL=app.abd5e743.js.map